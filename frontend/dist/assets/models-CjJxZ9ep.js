import{A as w,i as n,j as i}from"./index-DgeW9NR8.js";const j=w("models",()=>{const a=n([]),l=n(null),s=n(!1),c=i(()=>a.value.filter(e=>e.use)),d=i(()=>a.value.map(e=>e.name));async function r(){s.value=!0;try{const t=await(await fetch("/admin/ai/v1/virtual-models")).json();t.code===200&&(a.value=t.data)}catch(e){console.error("Failed to fetch models:",e)}finally{s.value=!1}}async function u(e){try{return(await(await fetch("/admin/ai/v1/virtual-models",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()).code===200?(await r(),!0):!1}catch(t){return console.error("Failed to create model:",t),!1}}async function f(e,t){try{return(await(await fetch(`/admin/ai/v1/virtual-models/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()).code===200?(await r(),!0):!1}catch(o){return console.error("Failed to update model:",o),!1}}async function m(e){try{return(await(await fetch(`/admin/ai/v1/virtual-models/${e}`,{method:"DELETE"})).json()).code===200?(await r(),!0):!1}catch(t){return console.error("Failed to delete model:",t),!1}}async function p(e,t){try{return(await(await fetch(`/admin/ai/v1/virtual-models/${e}/switch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:t})})).json()).code===200?(await r(),!0):!1}catch(o){return console.error("Failed to switch model:",o),!1}}function h(e){l.value=e}return{models:a,currentModel:l,loading:s,enabledModels:c,modelNames:d,fetchModels:r,createModel:u,updateModel:f,deleteModel:m,switchModel:p,setCurrentModel:h}});export{j as u};
//# sourceMappingURL=models-CjJxZ9ep.js.map
